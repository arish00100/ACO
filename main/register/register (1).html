<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="register.css">
  
</head>

<body>
    <div class="body-wrapper">
        <div class="register-panel">
            <p id="register-title">Register</p>
            <!--Preventing default action of the form-->
            <form class="register-form" onsubmit="return validate();" method="POST">

                <div class="first-name-wrapper">
                    <label>
                        First Name <br/>
                        <input id="first-name" type="text" name="first-name"/>
                    </label>
                    <div class="form-error" id="first-name-error">*Invalid name format</div>
                </div>

                <div class="last-name-wrapper">
                    <label>
                        Last Name <br/>
                        <input id="last-name" type="text" name="last-name"/>
                    </label>
                    <div class="form-error" id="last-name-error">*Invalid name format</div>
                </div>

                <label for="dob">Date Of Birth</label>    
                <input type="date" id="dob" name="dob" />  

                <label>Gender</label>
                <div class="gender-wrapper">
                    <label>
                        <input type="radio" name="gender"/>
                        Male
                    </label>
                    <label>
                        <input type="radio" name="gender"/>
                        Female  
                    </label>
                </div> 

                <label for="address">Address</label>    
                <textarea id="address" name="address"></textarea>

                <label for="phone-num">Phone Number</label>
                <div class="phone-num-wrapper">
                    <input id="phone-num" type="text" name="phone-num"/>
                    <div class="form-hint">Must be of format +12-0123456789</div>
                    <div class="form-error" id="phone-num-error">*Invalid phone number</div>
                </div>

                <label for="email">Email Address</label>
                <div class="email-wrapper">
                    <input id="email" type="text" name="email"/>
                    <div class="form-error" id="email-error">*Invalid email address</div>
                </div>

                <label for="password">Password</label>
                <div>
                    <input id="password" type="password" name="password" />
                    <div class="form-hint">Minimum length 8. Must contain digits.</div>
                    <div class="form-error" id="password-error">*Password not matching constraints</div>
                </div>
                
                <label for="confirm-password">Confirm-Password</label>
                <div class="confirm-password-wrapper">
                    <input id="confirm-password" type="password" name="confirm-password" />
                    <div class="form-error" id="confirm-password-error">*Entered password is not the same as above</div>
                </div>
                
                <input id="form-submit" type="submit" value="REGISTER" />
            </form>
        </div>

    </div>

    <!--Place the validation check here-->
    <script>
        let iscorrect=true;
        function validate(){
            
            if(!/^[A-Za-z]+$/.test(document.getElementById("first-name").value)){
                document.getElementById("first-name-error").style.visibility="visible";
                iscorrect=false;
            }
                // document.forms["myForm"]["first-name-error"].style.visibility="visible";

            if(!/^[A-Za-z]+$/.test(document.getElementById("last-name").value)){
                document.getElementById("last-name-error").style.visibility="visible";
                iscorrect=false;
            }

            if(!/^\+[0-9]{1,3}-[0-9]{10}$/.test(document.getElementById("phone-num").value)){
                document.getElementById("phone-num-error").style.visibility="visible";
                iscorrect=false;
            }

            if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(document.getElementById("email").value)){
                document.getElementById("email-error").style.visibility="visible";
                iscorrect=false;
            }
            
            //password validation
            let pw=document.getElementById("password").value;
            if(pw.length<8 || !(/\d/.test(pw)))
            {
                document.getElementById("password-error").style.visibility="visible";
                iscorrect=false;
            }


            let pw2=document.getElementById("confirm-password").value;
            if(pw2!=pw){
                document.getElementById("confirm-password-error").style.visibility="visible";
                iscorrect=false;
            }

            return iscorrect;
        }
    </script>
</body>

</html>